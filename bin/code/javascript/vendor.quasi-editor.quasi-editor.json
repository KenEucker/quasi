{
  "code": "function makeEditableContainer(target, data) {\n    if(typeof(data) == 'Object') {\n        Object.keys(data).forEach(function(child){\n            \n        });\n    }\n    try {\n        target.attributes['data-name'] = data;\n        target.classList.add('edit-content');\n    }\n    catch(e) {\n        console.log('error making editable container for \"' + target + '\": ' + e);\n    }\n}\n\nfunction makeEditableAttribute(target, attribute, data) {\n\n    try {\n        target.attributes['data-name'] = data;\n        target.attributes['attribute-name'] = attribute;\n        target.classList.add('edit-attribute');\n    }\n    catch(e) {\n        console.log('error making editable attribute for \"' + target + '\": ' + e);\n    }\n}\n\nfunction editContent(target) {\n    var save = window.prompt(\"Editing \" + target.attributes['data-name'], target.innerHTML);\n    if(save) {\n        target.innerHTML = save;\n    }\n}\n\nfunction editAttribute(target) {\n    var dataName = target.attributes['data-name'],\n        attributeName = target.attributes['attribute-name'],\n        save = window.prompt(\"Editing \" + dataName, target.attributes[attributeName].value);\n    if(save) {\n        target.attributes[attributeName].value = save;\n    }\n}\n\nwindow.addEventListener('load',function(){\n    Object.keys(window.page.directive).forEach(function(selector){\n        console.log(\"current selector: \" + selector);\n        if(selector.indexOf('@') != -1) {\n            let split = selector.split('@');\n            console.log('wiring up editable attribute for ' + selector);\n            makeEditableAttribute(document.querySelector(split[0]), split[1], window.page.directive[selector]);\n        } else {\n        console.log('wiring up editable content for ' + selector);\n            makeEditableContainer(document.querySelector(selector), window.page.directive[selector]);\n        }\n    });\n\n    document.querySelectorAll('.edit-content').forEach(function(editable) {\n        editable.addEventListener(\"click\", function(event) {\n            event.preventDefault();\n            editContent(event.target);\n        });\n    });\n\n    document.querySelectorAll('.edit-attribute').forEach(function(editable) {\n        editable.addEventListener(\"click\", function(event) {\n            event.preventDefault();\n            editAttribute(event.target);\n        });\n    });\n});",
  "name": "idontknow",
  "interpreter": "javascript",
  "extension": "js"
}